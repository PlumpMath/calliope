<!DOCTYPE HTML>
<html>

  <head>
    <meta charset="UTF-8">
    <title>Calliope</title>
    <script type="text/javascript" src="./elm.js"></script>
    <script>window.Elm = require('./elm.js');</script>
    <link rel="stylesheet" href="style.css"> 

    <!-- MDL -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500|Roboto+Mono|Roboto+Condensed:400,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="assets/mdl/material.min.blue-grey.blue.css">
    <script src="assets/mdl/material.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Highlight --> 
    <link rel="stylesheet" href="assets/styles/github-gist.css" />
    <script src="assets/highlight.pack.js"></script>

    <!-- Ace -->
    <link rel="import" href="bower_components/juicy-ace-editor/juicy-ace-editor.html"></link>

  </head>
 
  <body>

  </body>

  <script type="text/javascript">
    var app = Elm.App.fullscreen();

    // configureAce is the port in Elm
    app.ports.configureAce.subscribe(function(theme) {
      var aceContainer = document.getElementById("editor-container");

      if(aceContainer != null) {
        var editor = aceContainer.editor;
        editor.setTheme(theme);
        editor.$blockScrolling = Infinity;

        editor.on('change', function() {
          var content = editor.getValue();
          console.log(content);
          app.ports.getEditorContent.send(content);
        });
      }
    });

  </script>

</html>